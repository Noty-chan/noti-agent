# AGENTS.md — рабочие правила для проекта Noti

## Язык ответов
- Все ответы ассистента пользователю должны быть **только на русском языке**.

## Назначение проекта
- Проект строит AI-персону «Ноти»: язвительный ассистент с памятью, фильтрацией сообщений, динамическим контекстом, системой настроения, инструментами модерации и внутренним монологом.

## Основные подсистемы (по `noty_specification.md`)
1. Ingestion/Routing входящих сообщений (VK/TG).
2. Фильтрация интересности сообщений (эвристика + эмбеддинги + рандомизация).
3. Динамический контекст (recent + semantic + important).
4. Сборка промпта из модульных слоёв.
5. Генерация ответа и безопасное выполнение tool calls.
6. Обновление памяти, отношений и настроения.
7. Логирование (включая внутренний монолог).

## Практические правила разработки
- Предпочитать модульную структуру: один доменный файл/модуль на одну подсистему.
- Критичные действия выполнять через подтверждение и проверку ролей.
- Для памяти разделять уровни: кратковременная, SQLite-оперативная, семантическая (Mem0), архив `.jsonl`.
- При изменениях поведения Ноти фиксировать причину в истории версий промпта.
- Любые изменения сверять с дорожной картой (`TASK_MAP.md`).
